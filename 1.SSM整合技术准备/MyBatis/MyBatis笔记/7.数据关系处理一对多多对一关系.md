### 数据关系处理

- 部门和员工的关系，一个部门多个员工，一个员工属于一个部门 
- 那我们可以采取两种方式来维护关系，一种在一的一方，一种在多的一方！

数据库设计

```sql
CREATE TABLE [dbo].[dept](
	[id] [int] NOT NULL,
	[name] [varchar](50) NULL,
 CONSTRAINT [PK_dept] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

insert into [dbo].[dept](id,name) values (1,'周杰伦')

CREATE TABLE [dbo].[emp](
	[id] [int] NULL,
	[name] [varchar](50) NULL,
	[did] [int] NULL
) ON [PRIMARY]
INSERT INTO [dbo].[emp] VALUES (1, '邸智伟', 1);
INSERT INTO [dbo].[emp] VALUES (2, '成虹', 1);
INSERT INTO [dbo].[emp] VALUES (3, '康永亮', 1);
INSERT INTO [dbo].[emp] VALUES (4, '杨春旺', 1);
INSERT INTO [dbo].[emp] VALUES (5, '陈建强', 1);
```

1、自己手动维护

>自己维护，多写几个语句，使用java组装，有时候使用mybatis维护关系反而复杂，不如自己维护。

- 1、先搜索部门
-  2、根据部门搜索员工
-  3、手动拼装



2、在多的一方维护关系

编写实体类

```java
@Data
public class Dept {
    private int id;
    private String name;
}


@Data
public class Emp {
    private int id;
    private String name;
    //维护关系
    private int did;
}

```

2、编写实体类对应的Mapper接口

```java
public interface EmpMapper {
}
public interface DeptMapper {
}

```

3、编写Mapper接口对应的 mapper.xml配置文件

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.jinronga.mybatis.mapper.EmpMapper">
    
</mapper>
-------------------------
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.jinronga.mybatis.mapper.DeptMapper">

</mapper>
```







